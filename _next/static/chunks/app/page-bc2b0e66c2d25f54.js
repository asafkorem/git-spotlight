(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{8e3:(e,t,n)=>{Promise.resolve().then(n.bind(n,9045))},9045:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>N});var a=n(7437),r=n(2265);let o=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),i=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e,t,n)=>!!e&&""!==e.trim()&&n.indexOf(e)===t).join(" ").trim()};var s={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=(0,r.forwardRef)((e,t)=>{let{color:n="currentColor",size:a=24,strokeWidth:o=2,absoluteStrokeWidth:l,className:d="",children:c,iconNode:m,...h}=e;return(0,r.createElement)("svg",{ref:t,...s,width:a,height:a,stroke:n,strokeWidth:l?24*Number(o)/Number(a):o,className:i("lucide",d),...h},[...m.map(e=>{let[t,n]=e;return(0,r.createElement)(t,n)}),...Array.isArray(c)?c:[c]])}),d=(e,t)=>{let n=(0,r.forwardRef)((n,a)=>{let{className:s,...d}=n;return(0,r.createElement)(l,{ref:a,iconNode:t,className:i("lucide-".concat(o(e)),s),...d})});return n.displayName="".concat(e),n},c=d("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),m=d("Skull",[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]]),h=d("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]),u={countFileChanges:(e,t)=>{let n=t?' --grep="'.concat(t.split(",").join("|"),'" -i'):"";return'git log --since="'.concat(e,' ago"').concat(n," --name-only --pretty=format:")},getAuthors:(e,t)=>'git log --since="'.concat(t,' ago" --pretty=format:"%an" -- "').concat(e,'" | sort -u'),getAuthorContributions:(e,t)=>'git log --since="'.concat(t,' ago" --pretty=format:"%an" -- "').concat(e,'" | sort | uniq -c | sort -nr')},p=[{id:"hotspots",icon:c,iconColor:"#bd2424",title:"Hotspots️",description:"Track frequently changing files that might need attention",params:[{name:"timeWindow",label:"Time Window",type:"select",options:["1 month","3 months","6 months","1 year","2 years"],defaultValue:"6 months"},{name:"keywords",label:"Filter by commit messages",type:"text",defaultValue:"",placeholder:"e.g., fix,bug,hotfix,patch",description:"Optional: filter by keywords in commit messages, separated by commas (leave empty for all)"},{name:"limit",label:"Show top files",type:"number",min:5,max:50,defaultValue:10,placeholder:"e.g., 10"}],generateCommand:e=>'\necho "Finding most frequently changed files..."\n'.concat(u.countFileChanges(e.timeWindow,e.keywords),' | \\\n  grep -v "^$" | \\\n  sort | \\\n  uniq -c | \\\n  sort -rn | \\\n  head -').concat(e.limit," | \\\n  awk '{printf \"%5d changes: %s\\n\", $1, $2}'\n")},{id:"dungeons",icon:m,iconColor:"#aeaeae",title:"Dungeons",description:"Find files with high activity but few contributors",params:[{name:"timeWindow",label:"Time Window",type:"select",options:["1 month","3 months","6 months","1 year","2 years"],defaultValue:"1 year"},{name:"keywords",label:"Filter by commit messages",type:"text",defaultValue:"",placeholder:"e.g., fix,feature,test,docs",description:"Optional: filter by keywords in commit messages, separated by commas (leave empty for all)"},{name:"minChanges",label:"Minimum changes",type:"number",min:1,max:100,defaultValue:5,placeholder:"e.g., 5",description:"Minimum number of changes to consider a file"},{name:"maxAuthors",label:"Maximum authors",type:"number",min:1,max:10,defaultValue:2,placeholder:"e.g., 2",description:"Maximum number of unique authors for a file to be considered a dungeon"}],generateCommand:e=>'\necho "Creating temporary workspace..."\ntmpdir=$(mktemp -d 2>/dev/null || mktemp -d -t \'tmpdir\')\ntrap \'rm -rf "$tmpdir"\' EXIT\n\necho "Getting list of files that match minimum changes..."\n'.concat(u.countFileChanges(e.timeWindow,e.keywords),' | \\\n  grep -v "^$" | \\\n  sort | \\\n  uniq -c | \\\n  sort -rn | \\\n  awk \'$1 >= ').concat(e.minChanges,' {print $2}\' > "$tmpdir/files"\n\necho "Analyzing author patterns..."\nwhile IFS= read -r file; do\n  [ ! -f "$file" ] && continue\n  \n  author_count=$(').concat(u.getAuthors("$file",e.timeWindow)," | \\\n    sort | \\\n    uniq | \\\n    wc -l | \\\n    tr -d '[:space:]')\n  \n  if [ \"$author_count\" -le ").concat(e.maxAuthors,' ]; then\n    echo "\\nFile: $file"\n    echo "Changes in last ').concat(e.timeWindow,':"\n    ').concat(u.getAuthorContributions("$file",e.timeWindow),' | \\\n      awk \'{\n        count=$1\n        author=$2\n        for(i=3;i<=NF;i++) author=author " " $i\n        printf "  %s: %d changes\\n", author, count\n      }\'\n  fi\ndone < "$tmpdir/files"\n')},{id:"dependency-magnets",icon:h,iconColor:"#8b5cf6",title:"Dependency Magnets",description:"Find files that frequently change together with other files",params:[{name:"timeWindow",label:"Time Window",type:"select",options:["1 month","3 months","6 months","1 year","2 years"],defaultValue:"6 months"},{name:"minCoChanges",label:"Minimum co-changes",type:"number",min:2,max:20,defaultValue:3,placeholder:"e.g., 3",description:"Minimum number of files changed together to identify coupled changes"},{name:"showRelated",label:"Show related files",type:"number",min:1,max:20,defaultValue:5,placeholder:"e.g., 5",description:"Number of most frequently co-changed files to display"}],generateCommand:e=>'\necho "Creating temporary workspace..."\ntmpdir=$(mktemp -d 2>/dev/null || mktemp -d -t \'tmpdir\')\ntrap \'rm -rf "$tmpdir"\' EXIT\n\necho "Defining helper function..."\nget_related_files() {\n  local target_file="$1"\n  git log --since="'.concat(e.timeWindow,' ago" --name-only --pretty=format:"%h" | \\\n    grep -v "^$" | \\\n    grep -v "^[a-f0-9]\\{7,\\}$" | \\\n    grep -v "^$target_file$" | \\\n    sort | \\\n    uniq -c | \\\n    sort -rn | \\\n    head -').concat(e.showRelated,' | \\\n    awk \'{printf "  %d co-changes: %s\\n", $1, $2}\'\n}\n\necho "Finding files with frequent co-changes..."\ngit log --since="').concat(e.timeWindow,' ago" --name-only --pretty=format:"%h" | \\\n  grep -v "^$" | \\\n  grep -v "^[a-f0-9]\\{7,\\}$" | \\\n  sort | \\\n  uniq -c | \\\n  sort -rn | \\\n  awk \'$1 >= ').concat(e.minCoChanges,' {print $2}\' > "$tmpdir/files"\n\necho "Analyzing dependencies..."\nwhile IFS= read -r file; do\n  [ ! -f "$file" ] && continue\n  \n  echo "\\nDependency Magnet: $file"\n  echo "Related files:"\n  get_related_files "$file"\ndone < "$tmpdir/files"\n')}],g=d("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]),x=d("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]),b=e=>{let{code:t,language:n="bash"}=e,[o,i]=(0,r.useState)(!1),s=async()=>{await navigator.clipboard.writeText(t),i(!0),setTimeout(()=>i(!1),2e3)};return(0,a.jsx)("div",{className:"relative group",children:(0,a.jsxs)("pre",{className:"bg-[#0d1117] p-4 rounded-lg overflow-x-auto text-[#c9d1d9] text-sm border border-[#30363d] font-mono selection:bg-[#264f78]",children:[(0,a.jsx)("div",{className:"absolute right-2 top-2",children:(0,a.jsx)("button",{onClick:s,className:"p-2 text-[#8b949e] hover:text-[#c9d1d9] rounded-md bg-[#161b22] hover:bg-[#1f242c] border border-[#30363d] transition-all duration-200",title:"Copy to clipboard",children:o?(0,a.jsx)(g,{className:"w-4 h-4"}):(0,a.jsx)(x,{className:"w-4 h-4"})})}),(0,a.jsx)("code",{className:"language-{language}",children:t})]})})},f=d("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),y=d("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),w=e=>{let{value:t,onChange:n,min:r,max:o,className:i}=e;return(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("input",{type:"number",value:t,onChange:e=>{let t=Number(e.target.value);(void 0===r||t>=r)&&(void 0===o||t<=o)&&n(t)},className:"w-24 bg-[#0d1117] border border-[#30363d] rounded-lg px-3 py-1.5 \n                text-left text-[#c9d1d9] text-sm focus:outline-none focus:ring-1 \n                focus:ring-[#388bfd]/40 focus:border-[#388bfd] hover:border-[#3d4449] \n                transition-colors duration-200 [appearance:textfield] \n                [&::-webkit-outer-spin-button]:appearance-none \n                [&::-webkit-inner-spin-button]:appearance-none ".concat(i),min:r,max:o}),(0,a.jsxs)("div",{className:"inline-flex border border-[#30363d] rounded-lg overflow-hidden",children:[(0,a.jsx)("button",{type:"button",onClick:()=>n(Math.max(null!=r?r:-1/0,t-1)),disabled:void 0!==r&&t<=r,className:"px-2 py-1.5 text-[#8b949e] hover:text-[#c9d1d9] hover:bg-[#30363d] disabled:text-[#484f58] disabled:hover:bg-transparent disabled:cursor-not-allowed transition-colors duration-200 border-r border-[#30363d]",children:(0,a.jsx)(f,{className:"w-3 h-3",strokeWidth:2.5})}),(0,a.jsx)("button",{type:"button",onClick:()=>n(Math.min(null!=o?o:1/0,t+1)),disabled:void 0!==o&&t>=o,className:"px-2 py-1.5 text-[#8b949e] hover:text-[#c9d1d9] hover:bg-[#30363d] disabled:text-[#484f58] disabled:hover:bg-transparent disabled:cursor-not-allowed transition-colors duration-200",children:(0,a.jsx)(y,{className:"w-3 h-3",strokeWidth:2.5})})]})]})},v=e=>{let{pattern:t}=e,[n,o]=(0,r.useState)(()=>t.params.reduce((e,t)=>({...e,[t.name]:t.defaultValue}),{})),i=(e,t)=>{o(n=>({...n,[e.name]:t}))},s=t.generateCommand(n);return(0,a.jsxs)("div",{className:"rounded-xl border border-[#30363d] bg-[#161b22] overflow-hidden shadow-lg shadow-[#0d1117]/50 hover:border-[#3d4449] transition-all duration-200",children:[(0,a.jsxs)("div",{className:"p-5 flex items-center gap-4 border-b border-[#30363d]",children:[(0,a.jsx)("div",{className:"p-2 rounded-full bg-[#0d1117]/50",children:(0,a.jsx)(t.icon,{color:t.iconColor,className:"w-5 h-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-[#c9d1d9] font-semibold text-lg",children:t.title}),(0,a.jsx)("p",{className:"text-[#8b949e] text-sm",children:t.description})]})]}),(0,a.jsxs)("div",{className:"p-5 space-y-5",children:[t.params.map(e=>{var t;return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("label",{className:"text-[#c9d1d9] text-sm font-medium block",children:[e.label,e.description&&(0,a.jsx)("span",{className:"text-[#8b949e] ml-2 text-xs font-normal",children:e.description})]}),"select"===e.type?(0,a.jsx)("select",{value:String(n[e.name]),onChange:t=>i(e,t.target.value),className:"w-full bg-[#0d1117] border border-[#30363d] rounded-lg pl-3 pr-8 py-2 text-[#c9d1d9] text-sm focus:outline-none focus:ring-1 focus:ring-[#888b99]/40 focus:border-[#888b99] hover:border-[#3d4449] transition-colors duration-200 appearance-none bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIGZpbGw9IiM4YjkxOTgiIHZpZXdCb3g9IjAgMCAxNiAxNiIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48cGF0aCBkPSJNNC40MjcgOS40MjdsMy4zOTYgMy4zOTZhLjI1MS4yNTEgMCAwMC4zNTQgMGwzLjM5Ni0zLjM5NkEuMjUuMjUgMCAwMDExLjM5NiA5SDQuNjA0YS4yNS4yNSAwIDAwLS4xNzcuNDI3ek0xMS4zOTYgN0g0LjYwNGEuMjUuMjUgMCAwMS0uMTc3LS40MjdsMy4zOTYtMy4zOTZhLjI1MS4yNTEgMCAwMS4zNTQgMGwzLjM5NiAzLjM5NkEuMjUuMjUgMCAwMTExLjM5NiA3eiI+PC9wYXRoPjwvc3ZnPg==')] bg-[length:16px_16px] bg-no-repeat bg-[right_8px_center]",children:null===(t=e.options)||void 0===t?void 0:t.map(e=>(0,a.jsx)("option",{value:e,className:"bg-[#0d1117] text-[#c9d1d9]",children:e},e))}):"number"===e.type?(0,a.jsx)(w,{value:Number(n[e.name]),onChange:t=>i(e,t),min:e.min,max:e.max}):(0,a.jsx)("input",{type:"text",placeholder:e.placeholder,value:String(n[e.name]),onChange:t=>i(e,t.target.value),className:"w-full bg-[#0d1117] border border-[#30363d] rounded-lg px-3 py-2 text-[#c9d1d9] text-sm focus:outline-none focus:ring-1 focus:ring-[#888b99]/40 focus:border-[#888b99] hover:border-[#3d4449] transition-colors duration-200"})]},e.name)}),(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("label",{className:"text-[#c9d1d9] text-sm font-medium mb-2 block",children:"Generated Command"}),(0,a.jsx)(b,{code:s})]})]})]})},j=d("Flashlight",[["path",{d:"M18 6c0 2-2 2-2 4v10a2 2 0 0 1-2 2h-4a2 2 0 0 1-2-2V10c0-2-2-2-2-4V2h12z",key:"1orkel"}],["line",{x1:"6",x2:"18",y1:"6",y2:"6",key:"1z11jq"}],["line",{x1:"12",x2:"12",y1:"12",y2:"12",key:"1f4yc1"}]]);function N(){return(0,a.jsx)("div",{className:"min-h-screen bg-[#0d1117] text-[#c9d1d9] p-6",children:(0,a.jsxs)("div",{className:"max-w-5xl mx-auto space-y-6",children:[(0,a.jsxs)("header",{className:"text-center py-1",children:[(0,a.jsxs)("div",{className:"flex items-center justify-center gap-3 mb-4",children:[(0,a.jsx)(j,{className:"w-8 h-8 text-yellow-500 transform rotate-[145deg] animate-shine"}),(0,a.jsx)("h1",{className:"text-3xl font-bold text-glow",children:"Git Spotlight"})]}),(0,a.jsx)("p",{className:"text-[#8b949e] max-w-2xl mx-auto mb-3",children:"Spot pain points in your code through git history"})]}),(0,a.jsx)("div",{className:"grid grid-cols-1 gap-6",children:p.map(e=>(0,a.jsx)(v,{pattern:e},e.id))}),(0,a.jsxs)("footer",{className:"text-center text-sm py-8 space-y-4",children:[(0,a.jsxs)("p",{className:"text-[#8b949e]",children:["Originally presented in"," ",(0,a.jsx)("span",{className:"text-[#c9d1d9]",children:'"Pinpointing Pain Points in Your Code: Effective Value-Driven Refactoring"'}),(0,a.jsx)("br",{}),(0,a.jsx)("span",{className:"text-[#8b949e]",children:"by Asaf Korem • Wix Engineering Conference 2024"})]}),(0,a.jsxs)("a",{href:"https://github.com/yourusername/git-spotlight",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2.5 px-4 py-2 rounded-full bg-[#21262d] hover:bg-[#30363d] border border-[#30363d] hover:border-[#8b949e] transition-all duration-200 ease-in-out group text-[#c9d1d9] hover:text-white",children:[(0,a.jsx)("img",{src:"/github.svg",alt:"GitHub",className:"w-5 h-5 opacity-90 group-hover:opacity-100 transition-opacity"}),(0,a.jsx)("span",{children:"Contribute on GitHub"})]})]})]})})}}},e=>{var t=t=>e(e.s=t);e.O(0,[130,215,744],()=>t(8e3)),_N_E=e.O()}]);